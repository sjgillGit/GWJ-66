[gd_scene load_steps=14 format=3 uid="uid://c0jwjfl0nofyc"]

[ext_resource type="PackedScene" uid="uid://blnork1vhf7o4" path="res://Scenes/Player/Player.tscn" id="1_2hihl"]
[ext_resource type="Script" path="res://Scripts/Rooms/RoomArea.gd" id="1_v0d0j"]
[ext_resource type="Script" path="res://Scripts/Player/CameraController.gd" id="2_bhkbj"]

[sub_resource type="NavigationMesh" id="NavigationMesh_plean"]
vertices = PackedVector3Array(1.01446, 0.436021, 3.71138, 1.01446, 0.436021, 3.46138, -0.235538, 0.436021, 3.21138, -9.48554, 0.436021, 3.71138, -0.235538, 0.436021, 0.96138, 1.01446, 0.436021, 0.71138, 1.01446, 0.436021, -3.78862, -6.48554, 0.436021, -3.78862, -6.73554, 0.436021, -1.53862, -8.98554, 0.436021, -1.53862, -9.48554, 0.436021, -3.78862, -9.48554, 0.436021, 3.71138, -6.73554, 0.436021, -1.53862, -8.98554, 0.436021, -1.53862, -9.48554, 0.436021, 3.71138, -0.235538, 0.436021, 3.21138, -0.235538, 0.436021, 0.96138, 10.2645, 0.436021, 3.21138, 2.51446, 0.436021, 3.21138, 1.01446, 0.436021, 3.46138, 1.01446, 0.436021, 3.71138, 11.7645, 0.436021, 3.71138, 11.7645, 0.436021, 3.46138, 10.2645, 0.436021, 0.96138, 10.2645, 0.436021, -1.03862, 8.51446, 0.436021, -1.78862, 10.2645, 0.436021, 0.96138, 11.7645, 0.436021, 0.71138, 11.7645, 0.436021, -0.78862, 10.2645, 0.436021, -1.03862, 10.2645, 0.436021, 0.96138, 8.51446, 0.436021, -1.78862, 6.01446, 0.436021, -1.78862, 2.51446, 0.436021, 0.96138, 2.51446, 0.436021, 3.21138, 10.2645, 0.436021, 3.21138, 10.5145, 0.436021, -3.78862, 8.76446, 0.436021, -3.78862, 8.51446, 0.436021, -1.78862, 10.2645, 0.436021, -1.03862, 1.01446, 0.436021, -3.78862, 1.01446, 0.436021, 0.71138, 2.51446, 0.436021, 0.96138, 6.01446, 0.436021, -1.78862, 5.76446, 0.436021, -3.78862, 13.2645, 0.436021, 3.21138, 11.7645, 0.436021, 3.46138, 11.7645, 0.436021, 3.71138, 21.2645, 0.436021, 3.71138, 11.7645, 0.436021, -0.78862, 11.7645, 0.436021, 0.71138, 13.2645, 0.436021, 0.96138, 13.2645, 0.436021, -1.03862, 13.2645, 0.436021, 0.96138, 21.2645, 0.436021, 3.71138, 21.2645, 0.436021, -3.78862, 13.2645, 0.436021, -1.03862, 21.2645, 0.436021, -3.78862, 13.0145, 0.436021, -3.78862, 13.2645, 0.436021, -1.03862, 13.2645, 0.436021, 0.96138, 13.2645, 0.436021, 3.21138, 21.2645, 0.436021, 3.71138, 6.76446, 1.68602, -3.53862, 6.76446, 1.68602, -2.78862, 7.76446, 1.68602, -2.78862, 7.76446, 1.68602, -3.53862, -8.23554, 1.68602, -3.28862, -8.23554, 1.68602, -2.53862, -7.48554, 1.68602, -2.53862, -7.48554, 1.68602, -3.28862, 11.2645, 1.68602, -2.78862, 11.2645, 1.68602, -1.78862, 12.2645, 1.68602, -1.78862, 12.2645, 1.68602, -2.78862, 0.764462, 1.68602, 1.71138, 0.764462, 1.68602, 2.46138, 1.51446, 1.68602, 2.46138, 1.51446, 1.68602, 1.71138, 11.2645, 1.68602, 1.71138, 11.2645, 1.68602, 2.46138, 12.2645, 1.68602, 2.46138, 12.2645, 1.68602, 1.71138)
polygons = [PackedInt32Array(1, 0, 2), PackedInt32Array(2, 0, 3), PackedInt32Array(5, 4, 6), PackedInt32Array(6, 4, 8), PackedInt32Array(6, 8, 7), PackedInt32Array(11, 10, 9), PackedInt32Array(13, 12, 14), PackedInt32Array(14, 12, 16), PackedInt32Array(14, 16, 15), PackedInt32Array(22, 21, 17), PackedInt32Array(17, 21, 18), PackedInt32Array(18, 21, 19), PackedInt32Array(19, 21, 20), PackedInt32Array(25, 24, 23), PackedInt32Array(27, 26, 28), PackedInt32Array(28, 26, 29), PackedInt32Array(30, 35, 31), PackedInt32Array(31, 35, 32), PackedInt32Array(32, 35, 33), PackedInt32Array(33, 35, 34), PackedInt32Array(37, 36, 38), PackedInt32Array(38, 36, 39), PackedInt32Array(41, 40, 42), PackedInt32Array(42, 40, 43), PackedInt32Array(43, 40, 44), PackedInt32Array(46, 45, 47), PackedInt32Array(47, 45, 48), PackedInt32Array(49, 52, 50), PackedInt32Array(50, 52, 51), PackedInt32Array(56, 55, 53), PackedInt32Array(53, 55, 54), PackedInt32Array(59, 58, 57), PackedInt32Array(62, 61, 60), PackedInt32Array(66, 65, 63), PackedInt32Array(63, 65, 64), PackedInt32Array(70, 69, 67), PackedInt32Array(67, 69, 68), PackedInt32Array(74, 73, 71), PackedInt32Array(71, 73, 72), PackedInt32Array(78, 77, 75), PackedInt32Array(75, 77, 76), PackedInt32Array(82, 81, 79), PackedInt32Array(79, 81, 80)]

[sub_resource type="PlaneMesh" id="PlaneMesh_5pi10"]

[sub_resource type="BoxShape3D" id="BoxShape3D_5r4iu"]
size = Vector3(31.7131, 0.0873413, 8.54457)

[sub_resource type="BoxMesh" id="BoxMesh_wrlq0"]

[sub_resource type="BoxShape3D" id="BoxShape3D_5ygwp"]
size = Vector3(1.55756, 1.53589, 1.59412)

[sub_resource type="BoxShape3D" id="BoxShape3D_ppwko"]
size = Vector3(9, 3.15527, 8.0069)

[sub_resource type="BoxShape3D" id="BoxShape3D_tg1gx"]
size = Vector3(8, 3.15527, 8.0069)

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_74x1n"]

[sub_resource type="Sky" id="Sky_twktf"]
sky_material = SubResource("ProceduralSkyMaterial_74x1n")

[sub_resource type="Environment" id="Environment_y32de"]
background_mode = 2
sky = SubResource("Sky_twktf")
ambient_light_source = 3

[node name="TestScene" type="Node3D"]

[node name="Navigation" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_plean")

[node name="terrain" type="StaticBody3D" parent="Navigation"]

[node name="mesh" type="MeshInstance3D" parent="Navigation/terrain"]
transform = Transform3D(15.8143, 0, 0, 0, 1.77697, 0, 0, 0, 4.28862, 5.82875, 0, 0)
mesh = SubResource("PlaneMesh_5pi10")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Navigation/terrain"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.72799, -0.00350952, -1.43051e-06)
shape = SubResource("BoxShape3D_5r4iu")

[node name="Room1" type="Node3D" parent="Navigation"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.87409, 0, 0)

[node name="box2" type="StaticBody3D" parent="Navigation/Room1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.0555, 0.478376, -2.94054)

[node name="mesh" type="MeshInstance3D" parent="Navigation/Room1/box2"]
transform = Transform3D(1.58471, 0, 0, 0, 1.58471, 0, 0, 0, 1.58471, 0, 0, 0)
mesh = SubResource("BoxMesh_wrlq0")

[node name="shape" type="CollisionShape3D" parent="Navigation/Room1/box2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00741577, 0.00598145, 0.0055542)
shape = SubResource("BoxShape3D_5ygwp")

[node name="CameraPos" type="Node3D" parent="Navigation/Room1"]
transform = Transform3D(1, 0, 0, 0, 0.965926, 0.258819, 0, -0.258819, 0.965926, 1.05803, 3, 6)

[node name="Area" type="Area3D" parent="Navigation/Room1" node_paths=PackedStringArray("room_camera_pos_node")]
script = ExtResource("1_v0d0j")
room_camera_pos_node = NodePath("../CameraPos")

[node name="Shape" type="CollisionShape3D" parent="Navigation/Room1/Area"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0487671, 1.07764, 0.12558)
shape = SubResource("BoxShape3D_ppwko")

[node name="Room2" type="Node3D" parent="Navigation"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.87906, 0, 0)

[node name="box" type="StaticBody3D" parent="Navigation/Room2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.40425, 0.478376, -3.15762)

[node name="mesh" type="MeshInstance3D" parent="Navigation/Room2/box"]
transform = Transform3D(1.58471, 0, 0, 0, 1.58471, 0, 0, 0, 1.58471, 0, 0, 0)
mesh = SubResource("BoxMesh_wrlq0")

[node name="shape" type="CollisionShape3D" parent="Navigation/Room2/box"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00741577, 0.00598145, 0.0055542)
shape = SubResource("BoxShape3D_5ygwp")

[node name="box3" type="StaticBody3D" parent="Navigation/Room2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.80865, 0.478376, 2.05946)

[node name="mesh" type="MeshInstance3D" parent="Navigation/Room2/box3"]
transform = Transform3D(1.58471, 0, 0, 0, 1.58471, 0, 0, 0, 1.58471, 0, 0, 0)
mesh = SubResource("BoxMesh_wrlq0")

[node name="shape" type="CollisionShape3D" parent="Navigation/Room2/box3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00741577, 0.00598145, 0.0055542)
shape = SubResource("BoxShape3D_5ygwp")

[node name="CameraPos" type="Node3D" parent="Navigation/Room2"]
transform = Transform3D(1, 0, 0, 0, 0.965926, 0.258819, 0, -0.258819, 0.965926, -0.176161, 3, 6)

[node name="Area2" type="Area3D" parent="Navigation/Room2" node_paths=PackedStringArray("room_camera_pos_node")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.411215, 0, 0)
script = ExtResource("1_v0d0j")
room_camera_pos_node = NodePath("../CameraPos")

[node name="Shape" type="CollisionShape3D" parent="Navigation/Room2/Area2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0882187, 1.07764, 0.12558)
shape = SubResource("BoxShape3D_tg1gx")

[node name="Room3" type="Node3D" parent="Navigation"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 15.5991, 0, 0)

[node name="box" type="StaticBody3D" parent="Navigation/Room3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.80915, 0.478376, -2.26747)

[node name="mesh" type="MeshInstance3D" parent="Navigation/Room3/box"]
transform = Transform3D(1.58471, 0, 0, 0, 1.58471, 0, 0, 0, 1.58471, 0, 0, 0)
mesh = SubResource("BoxMesh_wrlq0")

[node name="shape" type="CollisionShape3D" parent="Navigation/Room3/box"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00741577, 0.00598145, 0.0055542)
shape = SubResource("BoxShape3D_5ygwp")

[node name="box3" type="StaticBody3D" parent="Navigation/Room3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.80865, 0.478376, 2.05946)

[node name="mesh" type="MeshInstance3D" parent="Navigation/Room3/box3"]
transform = Transform3D(1.58471, 0, 0, 0, 1.58471, 0, 0, 0, 1.58471, 0, 0, 0)
mesh = SubResource("BoxMesh_wrlq0")

[node name="shape" type="CollisionShape3D" parent="Navigation/Room3/box3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00741577, 0.00598145, 0.0055542)
shape = SubResource("BoxShape3D_5ygwp")

[node name="CameraPos" type="Node3D" parent="Navigation/Room3"]
transform = Transform3D(1, 0, 0, 0, 0.965926, 0.258819, 0, -0.258819, 0.965926, -0.176161, 3, 6)

[node name="Area2" type="Area3D" parent="Navigation/Room3" node_paths=PackedStringArray("room_camera_pos_node")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.411215, 0, 0)
script = ExtResource("1_v0d0j")
room_camera_pos_node = NodePath("../CameraPos")

[node name="Shape" type="CollisionShape3D" parent="Navigation/Room3/Area2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0882187, 1.07764, 0.12558)
shape = SubResource("BoxShape3D_tg1gx")

[node name="Player" parent="." instance=ExtResource("1_2hihl")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.82765, 1.00672, 0.137276)

[node name="Camera3D" type="Camera3D" parent="." node_paths=PackedStringArray("player")]
transform = Transform3D(1, 0, 0, 0, 0.965926, 0.258819, 0, -0.258819, 0.965926, 4.7029, 3, 6)
script = ExtResource("2_bhkbj")
player = NodePath("../Player")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_y32de")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.902427, -0.38064, -0.201836, 0, -0.46847, 0.88348, -0.430842, -0.797276, -0.42276, 0, 0, 0)
shadow_enabled = true

[connection signal="body_entered" from="Navigation/Room1/Area" to="Navigation/Room1/Area" method="_on_body_entered"]
[connection signal="body_entered" from="Navigation/Room2/Area2" to="Navigation/Room2/Area2" method="_on_body_entered"]
[connection signal="body_entered" from="Navigation/Room3/Area2" to="Navigation/Room3/Area2" method="_on_body_entered"]
